<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#0d0d0f">
  <meta name="description" content="MudForge - A Modern MUD Experience">
  <title>MudForge</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Launcher (shown before login) -->
  <div id="launcher" class="launcher">
    <div class="launcher-background"></div>
    <div class="launcher-card">
      <!-- Fantasy Art Panel -->
      <div class="launcher-art">
        <svg viewBox="0 0 200 400" class="fantasy-scene" preserveAspectRatio="xMidYMid slice">
          <defs>
            <linearGradient id="sky" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#1a1a2e"/>
              <stop offset="50%" style="stop-color:#16213e"/>
              <stop offset="100%" style="stop-color:#0f3460"/>
            </linearGradient>
            <linearGradient id="mountain" x1="0%" y1="0%" x2="0%" y2="100%">
              <stop offset="0%" style="stop-color:#2d3561"/>
              <stop offset="100%" style="stop-color:#1a1a2e"/>
            </linearGradient>
            <linearGradient id="glow" x1="50%" y1="0%" x2="50%" y2="100%">
              <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:0.8"/>
              <stop offset="100%" style="stop-color:#dc2626;stop-opacity:0"/>
            </linearGradient>
            <filter id="blur" x="-50%" y="-50%" width="200%" height="200%">
              <feGaussianBlur in="SourceGraphic" stdDeviation="3"/>
            </filter>
          </defs>
          <!-- Sky -->
          <rect width="200" height="400" fill="url(#sky)"/>
          <!-- Stars -->
          <circle cx="30" cy="40" r="1" fill="#fff" opacity="0.7"/>
          <circle cx="80" cy="25" r="0.8" fill="#fff" opacity="0.5"/>
          <circle cx="150" cy="50" r="1.2" fill="#fff" opacity="0.8"/>
          <circle cx="170" cy="80" r="0.6" fill="#fff" opacity="0.4"/>
          <circle cx="45" cy="90" r="0.9" fill="#fff" opacity="0.6"/>
          <circle cx="120" cy="35" r="1" fill="#fff" opacity="0.5"/>
          <circle cx="60" cy="70" r="0.7" fill="#fff" opacity="0.4"/>
          <!-- Moon -->
          <circle cx="160" cy="60" r="15" fill="#e2e8f0" opacity="0.9"/>
          <circle cx="165" cy="55" r="15" fill="url(#sky)"/>
          <!-- Distant mountains -->
          <polygon points="0,200 40,140 80,180 120,120 160,160 200,130 200,250 0,250" fill="#1e293b" opacity="0.6"/>
          <!-- Mid mountains -->
          <polygon points="0,220 50,160 100,200 150,150 200,190 200,280 0,280" fill="url(#mountain)"/>
          <!-- Castle silhouette on hilltop -->
          <polygon points="85,270 85,240 92,240 92,230 100,230 100,215 110,215 110,230 118,230 118,240 125,240 125,270" fill="#0f172a"/>
          <rect x="100" y="235" width="10" height="15" fill="#f59e0b" opacity="0.5"/>
          <rect x="93" y="250" width="6" height="10" fill="#f59e0b" opacity="0.3"/>
          <!-- Foreground hills -->
          <ellipse cx="50" cy="320" rx="100" ry="60" fill="#1e293b"/>
          <ellipse cx="180" cy="340" rx="80" ry="50" fill="#1a1a2e"/>
          <!-- Glowing forge/portal -->
          <ellipse cx="100" cy="300" rx="25" ry="8" fill="url(#glow)" filter="url(#blur)"/>
          <ellipse cx="100" cy="300" rx="15" ry="5" fill="#f59e0b" opacity="0.8"/>
          <!-- Trees silhouette -->
          <polygon points="20,280 30,240 40,280" fill="#0f172a"/>
          <polygon points="35,285 50,230 65,285" fill="#1e293b"/>
          <polygon points="160,290 175,235 190,290" fill="#0f172a"/>
          <polygon points="145,295 165,250 185,295" fill="#1e293b"/>
          <!-- Ground -->
          <rect x="0" y="350" width="200" height="50" fill="#0f172a"/>
          <!-- Path -->
          <polygon points="85,350 115,350 130,400 70,400" fill="#1e293b" opacity="0.5"/>
        </svg>
      </div>
      <!-- Login Form Panel -->
      <div class="launcher-content">
        <div class="launcher-hero">
          <h1 class="launcher-title">MudForge</h1>
          <p class="launcher-tagline">Your Adventure Awaits</p>
        </div>
        <div class="launcher-login">
          <div class="login-form">
            <input type="text" id="login-username" placeholder="Character Name" autocomplete="username" autocapitalize="none" spellcheck="false">
            <input type="password" id="login-password" placeholder="Password" autocomplete="current-password">
            <button id="login-btn" class="login-button">Login</button>
            <div id="login-error" class="login-error"></div>
          </div>
        </div>
        <a href="#" class="news-cta">View News & Announcements â†’</a>
        <!-- Powered by MudForge -->
        <div class="powered-by-wrapper">
          <a href="https://www.mudforge.org" target="_blank" rel="noopener" class="powered-by">
          <svg viewBox="0 0 24 24" class="mudforge-logo">
            <!-- Simplified anvil/hammer logo -->
            <circle cx="12" cy="12" r="11" fill="#1a1a2e" stroke="#f59e0b" stroke-width="1"/>
            <!-- Anvil base -->
            <path d="M6 16 L18 16 L16 18 L8 18 Z" fill="#64748b"/>
            <!-- Anvil top -->
            <rect x="8" y="13" width="8" height="3" rx="0.5" fill="#94a3b8"/>
            <!-- Hammer -->
            <rect x="11" y="6" width="2" height="8" rx="0.5" fill="#78350f" transform="rotate(-30 12 10)"/>
            <rect x="8" y="5" width="6" height="3" rx="0.5" fill="#f59e0b" transform="rotate(-30 12 10)"/>
            <!-- Sparks -->
            <circle cx="15" cy="11" r="0.8" fill="#fbbf24"/>
            <circle cx="16" cy="9" r="0.5" fill="#f59e0b"/>
            <circle cx="14" cy="8" r="0.6" fill="#fbbf24"/>
          </svg>
          <span>Powered by MudForge</span>
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Registration Modal (overlays launcher) -->
  <div id="register-modal" class="register-modal hidden">
    <div class="register-backdrop"></div>
    <div class="register-content">
      <h2>Create Character</h2>
      <p class="register-subtitle">Enter your details to begin your adventure</p>
      <div class="register-form">
        <input type="text" id="reg-name" placeholder="Character Name" autocomplete="username" autocapitalize="none" spellcheck="false" readonly>
        <input type="password" id="reg-password" placeholder="Password (6+ characters)" autocomplete="new-password">
        <input type="password" id="reg-confirm" placeholder="Confirm Password" autocomplete="new-password">
        <input type="email" id="reg-email" placeholder="Email Address" autocomplete="email">
        <select id="reg-gender">
          <option value="">Select Gender</option>
          <option value="male">Male</option>
          <option value="female">Female</option>
          <option value="neutral">Neutral</option>
        </select>
        <div class="avatar-picker-section">
          <label class="avatar-picker-label">Choose Your Avatar</label>
          <div id="reg-avatar-picker" class="avatar-picker"></div>
          <input type="hidden" id="reg-avatar" value="">
        </div>
        <div class="register-buttons">
          <button id="reg-submit" class="register-button primary">Create Character</button>
          <button id="reg-cancel" class="register-button secondary">Cancel</button>
        </div>
        <div id="reg-error" class="login-error"></div>
      </div>
    </div>
  </div>

  <!-- Game terminal (hidden until login succeeds) -->
  <div id="app" class="hidden">
    <header id="header">
      <h1>MudForge</h1>
      <span id="status" class="disconnected">Disconnected</span>
    </header>

    <main id="main-content">
      <div id="left-sidebar">
        <div id="stats-container" aria-label="Player stats"></div>
        <div id="quest-container" aria-label="Active quests"></div>
      </div>
      <div id="terminal-container">
        <div id="terminal" role="log" aria-live="polite" aria-label="Game output"></div>
        <div id="map-container" aria-label="Game map"></div>
        <div id="combat-container" aria-label="Combat target"></div>
        <div id="comm-container" aria-label="Communications panel"></div>
      </div>
    </main>

    <footer id="input-container">
      <label for="input" class="sr-only">Enter command</label>
      <input
        type="text"
        id="input"
        placeholder="Enter command..."
        autocomplete="off"
        autocapitalize="none"
        spellcheck="false"
        aria-label="Command input"
      >
      <button id="send-btn" aria-label="Send command">Send</button>
    </footer>
  </div>

  <script type="module" src="client.js"></script>
</body>
</html>
